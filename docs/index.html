<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小二的回合制卡牌游戏</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="app">
    <!-- Auth Bar -->
    <div id="auth-bar">
        <div id="guest-bar">
            <button id="btn-open-auth" class="auth-btn">🔑 登录 / 注册</button>
        </div>
        <div id="user-bar" class="hidden">
            <span id="gold-display">🪙 0</span>
            <span id="user-name"></span>
            <button id="btn-logout" class="auth-btn auth-btn-sm">退出</button>
        </div>
        <div id="music-controls">
            <button id="btn-music" class="auth-btn auth-btn-sm" title="静音">🎵</button>
            <input  id="volume-slider" type="range" min="0" max="1" step="0.05" value="0.45" />
        </div>
        <a id="codex-link" href="codex.html">📖 图鉴</a>
    </div>

    <!-- Header / Turn Banner -->
    <header id="turn-banner">
        <span id="round-text">第 1 回合</span>
        <span class="dot">·</span>
        <span id="phase-text" class="phase-player">玩家回合</span>
    </header>

    <!-- Battlefield -->
    <section id="battlefield">
        <!-- Player -->
        <div class="fighter-panel" id="player-panel">
            <div class="shield-badge hidden" id="player-shield-badge">🛡️ <span id="player-shield-val">0</span></div>
            <div class="fighter-frame player-frame" id="player-frame">
                <span class="fighter-emoji">🗡️</span>
            </div>
            <div class="fighter-name">勇者</div>
            <div class="hp-track">
                <div class="hp-fill hp-high" id="player-hp-bar" style="width:100%"></div>
            </div>
            <div class="hp-num" id="player-hp-num">3 / 3</div>
        </div>

        <!-- Center -->
        <div id="center">
            <div id="vs">VS</div>
        </div>

        <!-- Enemy -->
        <div class="fighter-panel" id="enemy-panel">
            <div class="shield-badge hidden" id="enemy-shield-badge">🛡️ <span id="enemy-shield-val">0</span></div>
            <div class="fighter-frame enemy-frame" id="enemy-frame">
                <span class="fighter-emoji">👾</span>
            </div>
            <div class="fighter-name">史莱姆</div>
            <div class="hp-track">
                <div class="hp-fill hp-high" id="enemy-hp-bar" style="width:100%"></div>
            </div>
            <div class="hp-num" id="enemy-hp-num">3 / 3</div>
        </div>
    </section>

    <!-- Battle Log -->
    <section id="log-section">
        <div id="log-title">📜 战斗日志</div>
        <div id="log-body"></div>
    </section>

    <!-- Hand -->
    <section id="hand-section">
        <div id="hand-title">🃏 你的手牌</div>
        <div id="hand-cards"></div>
    </section>

    <!-- Skills -->
    <section id="skill-section">
        <div id="skill-title">🔮 技能</div>
        <div id="skill-cards"></div>
    </section>

    <div id="hand-hint">点击卡牌或技能使用</div>
</div>

<!-- Game-over overlay -->
<div id="overlay" class="overlay hidden">
    <div class="overlay-box">
        <div id="result-icon"></div>
        <h2 id="result-title"></h2>
        <p id="result-detail"></p>
        <p id="result-gold" class="gold-reward hidden"></p>
        <button id="btn-restart">再来一局</button>
    </div>
</div>

<!-- Auth Modal -->
<div id="auth-modal" class="overlay hidden">
    <div class="overlay-box auth-box">
        <button id="btn-close-auth" class="modal-close">✕</button>
        <div id="auth-tabs">
            <button class="auth-tab active" data-tab="login">登录</button>
            <button class="auth-tab" data-tab="register">注册</button>
        </div>

        <form id="login-form" class="auth-form">
            <input type="email" id="login-email" placeholder="邮箱" required />
            <input type="password" id="login-password" placeholder="密码" required />
            <button type="submit" class="auth-submit">登录</button>
            <p id="login-error" class="auth-error hidden"></p>
        </form>

        <form id="register-form" class="auth-form hidden">
            <input type="text" id="reg-username" placeholder="用户名（2-20 字符）" required minlength="2" maxlength="20" />
            <input type="email" id="reg-email" placeholder="邮箱" required />
            <input type="password" id="reg-password" placeholder="密码（至少 6 位）" required minlength="6" />
            <button type="submit" class="auth-submit">注册</button>
            <p id="reg-error" class="auth-error hidden"></p>
        </form>
    </div>
</div>

<script type="module" src="js/main.js"></script>
</body>
</html>
